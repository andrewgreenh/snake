(()=>{"use strict";var t={222:(t,e,s)=>{let i;function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e),s.d(e,{CustomStrategy:()=>r}),function(t){t[t.left=37]="left",t[t.up=38]="up",t[t.right=39]="right",t[t.down=40]="down"}(i||(i={}));class r{constructor(){n(this,"graph",o())}step(t){const e=this.graph.findPath({startNode:t,isEnd:e=>a(e.snake.parts[0])===a(t.fruit),estimateCost:e=>{const s=e.snake.parts[0],i=Math.abs(s.x-t.fruit.x),n=18-i,r=Math.abs(s.y-t.fruit.y),o=18-r;return Math.min(i,n)+Math.min(r,o)},maxCosts:50});if(e.isFail())return console.log("Error - no path found!"),i.left;{const s=e.getPath()[1].data,n=t.snake.parts[0],r=s.snake.parts[0];return r.x===n.x+1||r.x===n.x+1-18?i.right:r.x===n.x-1||r.x===n.x-1+18?i.left:r.y===n.y+1||r.y===n.y+1-18?i.down:r.y===n.y-1||r.y===n.y-1+18?i.up:i.left}}}const o=()=>new h({getNeighbours:t=>{const e=t.snake.parts,{x:s,y:i}=e[0],n=[{x:s+1,y:i},{x:s,y:i+1},{x:s-1,y:i},{x:s,y:i-1}];for(const t of n)t.x<0&&(t.x=17),t.y<0&&(t.y=17),18===t.y&&(t.y=0),18===t.x&&(t.x=0);const r=e.slice(0,-1),o=t.obstacles.map(a),h=e.map(a);return n.filter(t=>{const e=a(t);return!o.includes(e)&&!h.includes(e)}).map(e=>({...t,snake:{...t.snake,parts:[e,...r]}}))},hashData:t=>t.snake.parts.slice(0,5).map(a).join(" --- ")});function a(t){return`${t.x}-${t.y}`}class h{constructor(t){n(this,"config",void 0),this.config={hashData:t=>JSON.stringify(t),getNeighbourCost:()=>1,...t}}findPath(t){return function(t){const{estimateCost:e=(()=>0),getNeighbourCost:s=(()=>1),getNeighbours:i,hashData:n=(t=>t.toString()),heapComperator:r=((t,e)=>t.f-e.f),isEnd:o,maxCosts:a=1/0,startNode:h}=t,f={data:h,g:0,h:e(h),f:e(h),hash:n(h)},d=new Map,l=new c((t,e)=>r(t,e)<0),p=new Map;d.set(f.hash,f),l.add(f);let g=0;for(;0!==l.size;){const t=l.pop();if(!d.has(t.hash))continue;if(d.delete(t.hash),p.set(t.hash,t),o(t.data))return u(t,g,p);if(t.g>a)return u(t,g,p);g++;const r=i(t.data);for(let i=0;i<r.length;i++){const o=r[i],a=n(o);if(p.has(a))continue;const h=t.g+s(t.data,o),u=d.get(a);if(void 0!==u&&h>=u.g)continue;const f=e(o),c={data:o,f:h+f,h:f,g:h,hash:a,previousNode:t};d.set(a,c),l.add(c)}}return function(t,e){return{expandedNodeCounter:e,getExpandedNodes:()=>t.values(),isFail:()=>!0,isSuccess:()=>!1,status:"Fail :("}}(p,g)}({...t,...this.config})}}function u(t,e,s){const i=function(t){const e=[];let s=t;for(;s;)e.unshift(f(s,"previousNode")),s=s.previousNode;return e}(t);return{cost:t.g,expandedNodeCounter:e,getExpandedNodes:()=>s.values(),getPath:()=>i,isFail:()=>!1,isSuccess:()=>!0,status:"success",target:i[i.length-1]}}const f=(t,...e)=>{let s,i={};for(s in t)e.includes(s)||(i[s]=t[s]);return i};class c{get size(){return this.items.length-1}constructor(t){this.shouldBeBefore=t,n(this,"items",[]),this.items.length=1}getParentIndexOf(t){return 1===t?t:Math.floor(t/2)}getLeftChildIndexOf(t){return 2*t}getRightChildIndexOf(t){return 2*t+1}siftUp(t){if(1===t)return;const e=this.items[t],s=this.getParentIndexOf(t),i=this.items[s];this.shouldBeBefore(e,i)&&(this.items[s]=e,this.items[t]=i,this.siftUp(s))}siftDown(t){const e=this.items[t],s=this.getLeftChildIndexOf(t),i=this.getRightChildIndexOf(t),n=this.items[s],r=this.items[i];if(!n&&!r)return;const o=!r||this.shouldBeBefore(n,r)?s:i,a=this.items[o];this.shouldBeBefore(e,a)||(this.items[o]=e,this.items[t]=a,this.siftDown(o))}add(t){this.items.push(t),this.siftUp(this.items.length-1)}peek(){return this.items[1]}pop(){if(0===this.size)return;const t=this.items[1],e=this.items[this.size];return this.items[1]=e,this.items.pop(),this.siftDown(1),t}popAll(){const t=[];for(;0!==this.size;)t.push(this.pop());return t}}}},e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.m=t,s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.O={},s(222)})();