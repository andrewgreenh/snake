(()=>{"use strict";var t={113:(t,e,s)=>{let i;s.r(e),s.d(e,{CustomStrategy:()=>a}),function(t){t[t.left=37]="left",t[t.up=38]="up",t[t.right=39]="right",t[t.down=40]="down"}(i||(i={}));const n=class{get size(){return this.items.length-1}constructor(t){var e,s,i;this.shouldBeBefore=t,i=[],(s="items")in(e=this)?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,this.items.length=1}getParentIndexOf(t){return 1===t?t:Math.floor(t/2)}getLeftChildIndexOf(t){return 2*t}getRightChildIndexOf(t){return 2*t+1}siftUp(t){if(1===t)return;const e=this.items[t],s=this.getParentIndexOf(t),i=this.items[s];this.shouldBeBefore(e,i)&&(this.items[s]=e,this.items[t]=i,this.siftUp(s))}siftDown(t){const e=this.items[t],s=this.getLeftChildIndexOf(t),i=this.getRightChildIndexOf(t),n=this.items[s],r=this.items[i];if(!n&&!r)return;const o=!r||this.shouldBeBefore(n,r)?s:i,a=this.items[o];this.shouldBeBefore(e,a)||(this.items[o]=e,this.items[t]=a,this.siftDown(o))}add(t){this.items.push(t),this.siftUp(this.items.length-1)}peek(){return this.items[1]}pop(){if(0===this.size)return;const t=this.items[1],e=this.items[this.size];return this.items[1]=e,this.items.pop(),this.siftDown(1),t}popAll(){const t=[];for(;0!==this.size;)t.push(this.pop());return t}};function r(t,e,s){const i=function(t){const e=[];let s=t;for(;s;)e.unshift(o(s,"previousNode")),s=s.previousNode;return e}(t);return{cost:t.g,expandedNodeCounter:e,getExpandedNodes:()=>s.values(),getPath:()=>i,isFail:()=>!1,isSuccess:()=>!0,status:"success",target:i[i.length-1]}}const o=(t,...e)=>{let s,i={};for(s in t)e.includes(s)||(i[s]=t[s]);return i};class a{step(t){const e=h.findPath({startNode:t,isEnd:e=>u(e.snake.parts[0])===u(t.fruit),estimateCost:e=>{const s=e.snake.parts[0],i=Math.abs(s.x-t.fruit.x),n=18-i,r=Math.abs(s.y-t.fruit.y),o=18-r;return Math.min(i,n)+Math.min(r,o)},maxCosts:50});if(e.isFail())return console.log("Error - no path found!"),i.left;{const s=e.getPath()[1].data,n=t.snake.parts[0],r=s.snake.parts[0];return r.x===n.x+1||r.x===n.x+1-18?i.right:r.x===n.x-1||r.x===n.x-1+18?i.left:r.y===n.y+1||r.y===n.y+1-18?i.down:r.y===n.y-1||r.y===n.y-1+18?i.up:i.left}}}const h=new class{constructor(t){var e,s,i;i=void 0,(s="config")in(e=this)?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,this.config={hashData:t=>JSON.stringify(t),getNeighbourCost:()=>1,...t}}findPath(t){return function(t){const{estimateCost:e=(()=>0),getNeighbourCost:s=(()=>1),getNeighbours:i,hashData:o=(t=>t.toString()),heapComperator:a=((t,e)=>t.f-e.f),isEnd:h,maxCosts:u=1/0,startNode:f}=t,d={data:f,g:0,h:e(f),f:e(f),hash:o(f)},c=new Map,l=new n((t,e)=>a(t,e)<0),p=new Map;c.set(d.hash,d),l.add(d);let g=0;for(;0!==l.size;){const t=l.pop();if(!c.has(t.hash))continue;if(c.delete(t.hash),p.set(t.hash,t),h(t.data))return r(t,g,p);if(t.g>u)return r(t,g,p);g++;const n=i(t.data);for(let i=0;i<n.length;i++){const r=n[i],a=o(r);if(p.has(a))continue;const h=t.g+s(t.data,r),u=c.get(a);if(void 0!==u&&h>=u.g)continue;const f=e(r),d={data:r,f:h+f,h:f,g:h,hash:a,previousNode:t};c.set(a,d),l.add(d)}}return function(t,e){return{expandedNodeCounter:e,getExpandedNodes:()=>t.values(),isFail:()=>!0,isSuccess:()=>!1,status:"Fail :("}}(p,g)}({...t,...this.config})}}({getNeighbours:t=>{const e=t.snake.parts,{x:s,y:i}=e[0],n=[{x:s+1,y:i},{x:s,y:i+1},{x:s-1,y:i},{x:s,y:i-1}];for(const t of n)t.x<0&&(t.x=17),t.y<0&&(t.y=17),18===t.y&&(t.y=0),18===t.x&&(t.x=0);const r=e.slice(0,-1),o=t.obstacles.map(u),a=e.map(u);return n.filter(t=>{const e=u(t);return!o.includes(e)&&!a.includes(e)}).map(e=>({...t,snake:{...t.snake,parts:[e,...r]}}))},hashData:t=>t.snake.parts.slice(0,5).map(u).join(" --- ")});function u(t){return`${t.x}-${t.y}`}}},e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.m=t,s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.O={},s(113)})();